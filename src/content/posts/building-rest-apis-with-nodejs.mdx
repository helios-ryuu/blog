---
author: "Helios"
authorTitle: "DevOps Engineer"
title: "Building REST APIs with Node.js"
description: "A comprehensive guide to building scalable REST APIs using Node.js and Express.js framework"
date: "2025-12-18"
image: "/post-images/post_3.png"
tags: ["nodejs", "express", "api", "backend"]
level: "beginner"
---

Node.js combined with Express.js provides a powerful platform for building REST APIs. Let's build a production-ready API from scratch.

## Project Setup

```bash
mkdir my-api && cd my-api
npm init -y
npm install express cors helmet morgan dotenv
npm install -D nodemon
```

## Basic Server Structure

```javascript
// server.js
import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import morgan from 'morgan';

const app = express();
const PORT = process.env.PORT || 3000;

// Middleware
app.use(helmet());
app.use(cors());
app.use(morgan('dev'));
app.use(express.json());

// Routes
app.get('/api/health', (req, res) => {
  res.json({ status: 'ok', timestamp: new Date() });
});

app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});
```

## RESTful Route Design

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | /api/users | List all users |
| GET | /api/users/:id | Get single user |
| POST | /api/users | Create user |
| PUT | /api/users/:id | Update user |
| DELETE | /api/users/:id | Delete user |

## Controller Pattern

```javascript
// controllers/userController.js
export const getUsers = async (req, res) => {
  try {
    const users = await User.find();
    res.json(users);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
};

export const createUser = async (req, res) => {
  try {
    const user = await User.create(req.body);
    res.status(201).json(user);
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
};
```

## Error Handling Middleware

```javascript
// middleware/errorHandler.js
export const errorHandler = (err, req, res, next) => {
  const statusCode = err.statusCode || 500;
  
  res.status(statusCode).json({
    success: false,
    error: err.message,
    stack: process.env.NODE_ENV === 'development' ? err.stack : undefined
  });
};
```

## Validation with Joi

```javascript
import Joi from 'joi';

const userSchema = Joi.object({
  name: Joi.string().min(2).max(50).required(),
  email: Joi.string().email().required(),
  age: Joi.number().min(18).max(120)
});

export const validateUser = (req, res, next) => {
  const { error } = userSchema.validate(req.body);
  if (error) {
    return res.status(400).json({ error: error.details[0].message });
  }
  next();
};
```

## Best Practices

1. **Use environment variables** for configuration
2. **Validate all input** before processing
3. **Implement rate limiting** for security
4. **Use async/await** with proper error handling
5. **Version your API** with `/api/v1/` prefix

## Conclusion

Building REST APIs with Node.js is straightforward with the right patterns. Focus on clean architecture, proper error handling, and security best practices.
